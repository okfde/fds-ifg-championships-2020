"use strict";!function(){var i={bw:{captain:{firstName:"Winfried",lastName:"Kretschmann"},state:"Baden-W√ºrttemberg",img:"kretschmann.png"},by:{captain:{firstName:"Markus",lastName:"S√∂der"},state:"Bayern",img:"soeder.png"},be:{captain:{firstName:"Michael",lastName:"M√ºller"},state:"Berlin",img:"mueller.png"},bb:{captain:{firstName:"Dietmar",lastName:"Woidke"},state:"Brandenburg",img:"woidke.png"},hb:{captain:{firstName:"Andreas",lastName:"Bovenschulte"},state:"Bremen",img:"bovenschulte.png"},hh:{captain:{firstName:"Peter",lastName:"Tschentscher"},state:"Hamburg",img:"tschentscher.png"},he:{captain:{firstName:"Volker",lastName:"Bouffier"},state:"Hessen",img:"bouffier.png"},mv:{captain:{firstName:"Manuela",lastName:"Schwesig"},state:"Mecklenburg-Vorpommern",img:"schwesig.png"},ni:{captain:{firstName:"Stephan",lastName:"Weil"},state:"Niedersachsen",img:"weil.png"},nw:{captain:{firstName:"Armin",lastName:"Laschet"},state:"Nordrhein-Westfalen",img:"laschet.png"},rp:{captain:{firstName:"Malu",lastName:"Dreyer"},state:"Rheinland-Pfalz",img:"dreyer.png"},sl:{captain:{firstName:"Tobias",lastName:"Hans"},state:"Saarland",img:"hans.png"},sn:{captain:{firstName:"Michael",lastName:"Kretschmer"},state:"Sachsen",img:"kretschmer.png"},st:{captain:{firstName:"Reiner",lastName:"Haseloff"},state:"Sachsen-Anhalt",img:"haseloff.png"},sh:{captain:{firstName:"Daniel",lastName:"G√ºnther"},state:"Schleswig-Holstein",img:"guenther.png"},th:{captain:{firstName:"Bodo",lastName:"Ramelow"},state:"Th√ºringen",img:"ramelow.png"}},e=[{title:"Runde 1",matches:[{number:1,team1:"sh",team2:"st"},{number:2,team1:"hb",team2:"mv"},{number:3,team1:"rp",team2:"he"},{number:4,team1:"be",team2:"bb"},{number:5,team1:"nw",team2:"ni"},{number:6,team1:"sn",team2:"by"},{number:7,team1:"hh",team2:"bw"},{number:8,team1:"sl",team2:"th"}]},{title:"Runde 2",matches:[]},{title:"Halbfinale",matches:[]},{title:"Finale",matches:[]}],n="/tippspiel/",r="fds_meisterschaften_2020_";function s(e,t){var a=new XMLHttpRequest;a.open(t?"POST":"GET",n,!0),t&&(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-CSRFToken",document.querySelector("[name=csrfmiddlewaretoken]").value)),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.onload=function(){if(200<=this.status&&this.status<400){var t=JSON.parse(this.response);e(t)}else window.alert("Error")},a.onerror=function(){window.alert("Error")},a.send(t)}var c="img/",m=!1,l={},o=!1,u=1;function a(t){t.preventDefault();var e=this.dataset.team,a=this.dataset.match;m?o?window.alert("Ihre letzte Aktion wird noch verarbeitet."):(l[r+a]=e,p(a,o=!0),s(function(t){l=t.user||{},p(a,o=!1)},"match=".concat(a,"&bet=").concat(e))):window.alert("Sie m√ºssen eingeloggt sein, um am Tippspiel teilzunehmen.")}function h(){b.innerHTML='\n    <div class="tournament-bracket tournament-bracket--rounded">\n      '.concat(function(t){for(var e="",a=0,n=t.length;a<n;a++)e+=(r=t[a],'\n  <div class="tournament-bracket__round">\n    <h3 class="tournament-bracket__round-title">'.concat(r.title,"</h3>\n    ").concat(r.matches&&0<r.matches.length?'\n    <ul class="tournament-bracket__list">\n      '.concat(function(t){for(var e=[],a=0,n=t.length;a<n;a++)e.push((r=t[a],0,s=i[r.team1],c=i[r.team2],'\n  <li class="tournament-bracket__item">\n    <div class="tournament-bracket__match" tabindex="0">\n      <table class="tournament-bracket__table">\n        <tbody class="tournament-bracket__content">\n          '.concat(d(r.team1,s,"team1"===r.winner,r.number),"\n          ").concat(d(r.team2,c,"team2"===r.winner,r.number),"\n        </tbody>\n      </table>\n    </div>\n  </li>\n  ")));var r,s,c;return e.join("")}(r.matches),"\n    </ul>\n    "):"","\n  </div>\n  "));var r;return e}(e),"\n    </div>\n    ");var t=b.querySelectorAll(".tournament-bracket__tip a");Array.from(t).forEach(function(t){t.addEventListener("click",a)})}function d(t,e,a,n){var r="".concat(e.captain.firstName," ").concat(e.captain.lastName," (").concat(e.state,")");return'\n  <tr class="tournament-bracket__team">\n    <td class="tournament-bracket__image" title="'.concat(r,'"><img src="').concat(c).concat(e.img,'"></td>\n    <td class="tournament-bracket__label" title="').concat(r,'">\n      <span class="tournament-bracket__name">').concat(e.captain.firstName.charAt(0),". ").concat(e.captain.lastName,'</span>&nbsp;<span class="tournament-bracket__token" title="').concat(e.state,'">(').concat(t,')</span>\n    </td>\n    <td class="tournament-bracket__result" title="Gewinner">').concat(a?"üèÜÔ∏è&nbsp;":"",'</td>\n    <td class="tournament-bracket__tip">\n      ').concat(u<=n?'<a href="#" data-team="'.concat(t,'" data-match="').concat(n,'">').concat(f(t,n,!0),"</a>"):f(t,n,!1),"\n    </td>\n  </tr>\n  ")}function p(e,a){var t=b.querySelectorAll('.tournament-bracket__tip a[data-match="'.concat(e,'"]'));Array.from(t).forEach(function(t){t.innerHTML=a?'<i class="fa fa-spinner" aria-hidden="true"></i>':f(t.dataset.team,e,!0)})}function f(t,e,a){if(l&&l[r+e]===t)return'<i class="fa fa-star" aria-hidden="true"></i>';return a?'<i class="fa fa-star-o" aria-hidden="true"></i>':""}e.forEach(function(t){0<t.matches.length&&(u=t.matches[0].number)});var t,b=document.getElementById("tournament-visual");t=b.querySelector("img").src,c=t.replace("1x1.png",""),(m=null!==document.getElementById("userDropdownMenu"))?s(function(t){l=t.user||{},h()}):h()}();
//# sourceMappingURL=main.js.map
