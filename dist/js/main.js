"use strict";var teams={bw:{captain:{firstName:"Winfried",lastName:"Kretschmann"},state:"Baden-W√ºrttemberg",img:"kretschmann.png"},by:{captain:{firstName:"Markus",lastName:"S√∂der"},state:"Bayern",img:"soeder.png"},be:{captain:{firstName:"Michael",lastName:"M√ºller"},state:"Berlin",img:"mueller.png"},bb:{captain:{firstName:"Dietmar",lastName:"Woidke"},state:"Brandenburg",img:"woidke.png"},hb:{captain:{firstName:"Andreas",lastName:"Bovenschulte"},state:"Bremen",img:"bovenschulte.png"},hh:{captain:{firstName:"Peter",lastName:"Tschentscher"},state:"Hamburg",img:"tschentscher.png"},he:{captain:{firstName:"Volker",lastName:"Bouffier"},state:"Hessen",img:"bouffier.png"},mv:{captain:{firstName:"Manuela",lastName:"Schwesig"},state:"Mecklenburg-Vorpommern",img:"schwesig.png"},ni:{captain:{firstName:"Stephan",lastName:"Weil"},state:"Niedersachsen",img:"weil.png"},nw:{captain:{firstName:"Armin",lastName:"Laschet"},state:"Nordrhein-Westfalen",img:"laschet.png"},rp:{captain:{firstName:"Malu",lastName:"Dreyer"},state:"Rheinland-Pfalz",img:"dreyer.png"},sl:{captain:{firstName:"Tobias",lastName:"Hans"},state:"Saarland",img:"hans.png"},sn:{captain:{firstName:"Michael",lastName:"Kretschmer"},state:"Sachsen",img:"kretschmer.png"},st:{captain:{firstName:"Reiner",lastName:"Haseloff"},state:"Sachsen-Anhalt",img:"haseloff.png"},sh:{captain:{firstName:"Daniel",lastName:"G√ºnther"},state:"Schleswig-Holstein",img:"guenther.png"},th:{captain:{firstName:"Bodo",lastName:"Ramelow"},state:"Th√ºringen",img:"ramelow.png"}};!function(){function l(e,t){return Math.random()*(t-e)+e}var t=function(){for(var e=[],t=16,n=0;t--;)n+=l(2e3,2500),e.push(n);return e}();function u(c,m,o){var e=t[Math.floor(Math.random()*t.length)];setTimeout(function(){var e,t,n=(e=c,(t=document.createElement("img")).classList.add("floating-head"),t.setAttribute("src",e),t);m.appendChild(n);var a=n.clientHeight,r=n.clientWidth,s=l(a/2,o.h-Math.round(1.5*a)),i=o.w+r;n.style.top=s+"px",n.style.left=-r+"px",n.style.transform="translate(".concat(i,"px, 0)"),n.style.transition="all ".concat(2e4,"ms linear"),setTimeout(function(){m.removeChild(n),u(c,m,o)},2e4)},e)}!function(e){for(var t=document.querySelector(".hero"),n={w:t.clientWidth,h:t.clientHeight},a=Object.values(teams),r=0,s=a.length;r<s;r++){u(e+a[r].img,t,n)}}(document.getElementById("path-helper").src.replace("1x1.png",""))}(),function(){var t=[{title:"Runde 1",matches:[{number:1,team1:"sh",team2:"st",request1:"188777",request2:"188791",winner:"sh"},{number:2,team1:"hb",team2:"mv",request1:"188785",request2:"188790",winner:"hb"},{number:3,team1:"rp",team2:"he",request1:"188789",request2:"188782",winner:"he"},{number:4,team1:"be",team2:"bb",request1:"188779",request2:"188787",winner:"bb"},{number:5,team1:"nw",team2:"ni",request1:"188788",request2:"188783",winner:"ni"},{number:6,team1:"sn",team2:"by",request1:"188784",request2:"188780",winner:"sn"},{number:7,team1:"hh",team2:"bw",request1:"188786",request2:"188792",winner:"hh"},{number:8,team1:"sl",team2:"th",request1:"188781",request2:"188793",winner:"sl"}]},{title:"Runde 2",matches:[{number:9,team1:"sh",team2:"hb",request1:"193275",request2:"193277",winner:"sh"},{number:10,team1:"he",team2:"bb",request1:"193276",request2:"193281",winner:"he"},{number:11,team1:"ni",team2:"sn",request1:"193279",request2:"193278",winner:"ni"},{number:12,team1:"hh",team2:"sl",request1:"193280",request2:"193274",winner:"hh"}]},{title:"Halbfinale",matches:[{number:13,team1:"sh",team2:"he",request1:"196181",request2:"196183",winner:"sh"},{number:14,team1:"ni",team2:"hh",request1:"196182",request2:"196184",winner:""}]},{title:"Finale",matches:[]}],a="/tippspiel/",s="fds_meisterschaften_2020_",o="img/",i=!1,c="",m={},l=!1,u=13,h=new Date(15986088e5);function d(t,e){var n=new XMLHttpRequest;n.open(e?"POST":"GET",a,!0),e&&(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("X-CSRFToken",document.querySelector("[name=csrfmiddlewaretoken]").value)),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onload=function(){if(200<=this.status&&this.status<400){var e=JSON.parse(this.response);t(e)}else window.alert("Error")},n.onerror=function(){window.alert("Error")},n.send(e)}function n(e){e.preventDefault();var t=this.dataset.team,n=this.dataset.match;if(i){var a=new Date;if(h&&h<a)window.alert("Die aktuelle Tipp-Spiel-Runde ist abgelaufen!");else{if(!m[s+"name"]){var r=window.prompt("Unter welchem Namen m√∂chten Sie in der Tipp-Tabelle erscheinen? Durch die Eingabe stimmen Sie unseren Teilnahmebedingungen zu.",c);if(null===r)return;m[s+"name"]=r.substr(0,50)}l?window.alert("Ihre letzte Aktion wird noch verarbeitet."):(m[s+n]=t,f(n,l=!0),d(function(e){e.error?window.alert(e.error):m=e.user||{},f(n,l=!1)},"match=".concat(n,"&bet=").concat(t,"&name=").concat(encodeURIComponent(m[s+"name"]))))}}else window.alert("Sie m√ºssen eingeloggt sein, um am Tippspiel teilzunehmen.")}function r(){g.innerHTML='\n      <div class="tournament-bracket tournament-bracket--rounded">\n        '.concat(function(e){for(var t="",n=0,a=e.length;n<a;n++)t+=(r=e[n],'\n    <div class="tournament-bracket__round">\n      <h3 class="tournament-bracket__round-title">'.concat(r.title,"</h3>\n      ").concat(r.matches&&0<r.matches.length?'\n      <ul class="tournament-bracket__list">\n        '.concat(function(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push((r=e[n],0,s=teams[r.team1],i=teams[r.team2],'\n    <li class="tournament-bracket__item">\n      <div class="tournament-bracket__match" tabindex="0">\n        <table class="tournament-bracket__table">\n          <tbody class="tournament-bracket__content">\n            '.concat(p(r.team1,s,r.winner===r.team1,r,r.request1),"\n            ").concat(p(r.team2,i,r.winner===r.team2,r,r.request2),"\n          </tbody>\n        </table>\n      </div>\n    </li>\n    ")));var r,s,i;return t.join("")}(r.matches),"\n      </ul>\n      "):"","\n    </div>\n    "));var r;return t}(t),"\n      </div>\n      ");var e=g.querySelectorAll(".tournament-bracket__tip a");Array.from(e).forEach(function(e){e.addEventListener("click",n)})}function p(e,t,n,a,r){if(void 0===t)return'\n      <tr class="tournament-bracket__team">\n      <td class="tournament-bracket__image" style="height:28px"></td>\n      <td class="tournament-bracket__label text-center w-100"><strong>?</strong></td>\n      </tr>';var s=a.number,i="".concat(t.captain.firstName," ").concat(t.captain.lastName," (").concat(t.state,")"),c=new Date,m=u<=s&&(!h||c<h);return'\n    <tr class="tournament-bracket__team">\n      <td class="tournament-bracket__image" title="'.concat(i,'"><img src="').concat(o).concat(t.img,'"></td>\n      <td class="tournament-bracket__label" title="').concat(i,'">\n        <span class="tournament-bracket__name">\n          ').concat(r?'<a href="/a/'.concat(r,'">'):"","\n          ").concat(t.captain.firstName.charAt(0),". ").concat(t.captain.lastName,"\n          ").concat(r?"</a>":"",'\n        </span>&nbsp;<span class="tournament-bracket__token" title="').concat(t.state,'">(').concat(e,')</span>\n      </td>\n      <td class="tournament-bracket__result" title="Gewinner">').concat(n?"üèÜÔ∏è&nbsp;":"",'</td>\n      <td class="tournament-bracket__tip">\n        ').concat(m?'<a href="#" data-team="'.concat(e,'" data-match="').concat(s,'">').concat(b(e,s,!0),"</a>"):b(e,s,!1),"\n      </td>\n    </tr>\n    ")}function f(t,n){var e=g.querySelectorAll('.tournament-bracket__tip a[data-match="'.concat(t,'"]'));Array.from(e).forEach(function(e){e.innerHTML=n?'<i class="fa fa-spinner" aria-hidden="true"></i>':b(e.dataset.team,t,!0)})}function b(e,t,n){if(m&&m[s+t]===e)return'<i class="fa fa-star" aria-hidden="true"></i>';return n?'<i class="fa fa-star-o" aria-hidden="true"></i>':""}var e,g=document.getElementById("tournament-visual");e=document.getElementById("path-helper"),o=e.src.replace("1x1.png",""),(i=null!==document.getElementById("userDropdownMenu"))&&(c=document.querySelector("#userDropdownMenu span").textContent),i?d(function(e){m=e.user||{},r()}):r()}();
//# sourceMappingURL=main.js.map
