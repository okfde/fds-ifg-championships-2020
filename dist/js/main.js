"use strict";var teams={bw:{captain:{firstName:"Winfried",lastName:"Kretschmann"},state:"Baden-W√ºrttemberg",img:"kretschmann.png"},by:{captain:{firstName:"Markus",lastName:"S√∂der"},state:"Bayern",img:"soeder.png"},be:{captain:{firstName:"Michael",lastName:"M√ºller"},state:"Berlin",img:"mueller.png"},bb:{captain:{firstName:"Dietmar",lastName:"Woidke"},state:"Brandenburg",img:"woidke.png"},hb:{captain:{firstName:"Andreas",lastName:"Bovenschulte"},state:"Bremen",img:"bovenschulte.png"},hh:{captain:{firstName:"Peter",lastName:"Tschentscher"},state:"Hamburg",img:"tschentscher.png"},he:{captain:{firstName:"Volker",lastName:"Bouffier"},state:"Hessen",img:"bouffier.png"},mv:{captain:{firstName:"Manuela",lastName:"Schwesig"},state:"Mecklenburg-Vorpommern",img:"schwesig.png"},ni:{captain:{firstName:"Stephan",lastName:"Weil"},state:"Niedersachsen",img:"weil.png"},nw:{captain:{firstName:"Armin",lastName:"Laschet"},state:"Nordrhein-Westfalen",img:"laschet.png"},rp:{captain:{firstName:"Malu",lastName:"Dreyer"},state:"Rheinland-Pfalz",img:"dreyer.png"},sl:{captain:{firstName:"Tobias",lastName:"Hans"},state:"Saarland",img:"hans.png"},sn:{captain:{firstName:"Michael",lastName:"Kretschmer"},state:"Sachsen",img:"kretschmer.png"},st:{captain:{firstName:"Reiner",lastName:"Haseloff"},state:"Sachsen-Anhalt",img:"haseloff.png"},sh:{captain:{firstName:"Daniel",lastName:"G√ºnther"},state:"Schleswig-Holstein",img:"guenther.png"},th:{captain:{firstName:"Bodo",lastName:"Ramelow"},state:"Th√ºringen",img:"ramelow.png"}};!function(){function l(e,t){return Math.random()*(t-e)+e}var t=function(){for(var e=[],t=16,a=0;t--;)a+=l(2e3,2500),e.push(a);return e}();function u(c,m,o){var e=t[Math.floor(Math.random()*t.length)];setTimeout(function(){var e,t,a=(e=c,(t=document.createElement("img")).classList.add("floating-head"),t.setAttribute("src",e),t);m.appendChild(a);var n=a.clientHeight,r=a.clientWidth,s=l(n/2,o.h-Math.round(1.5*n)),i=o.w+r;a.style.top=s+"px",a.style.left=-r+"px",a.style.transform="translate(".concat(i,"px, 0)"),a.style.transition="all ".concat(2e4,"ms linear"),setTimeout(function(){m.removeChild(a),u(c,m,o)},2e4)},e)}!function(e){for(var t=document.querySelector(".hero"),a={w:t.clientWidth,h:t.clientHeight},n=Object.values(teams),r=0,s=n.length;r<s;r++){u(e+n[r].img,t,a)}}(document.getElementById("path-helper").src.replace("1x1.png",""))}(),function(){var t=[{title:"Runde 1",matches:[{number:1,team1:"sh",team2:"st",request1:"188777",request2:"188791",winner:"sh"},{number:2,team1:"hb",team2:"mv",request1:"188785",request2:"188790"},{number:3,team1:"rp",team2:"he",request1:"188789",request2:"188782"},{number:4,team1:"be",team2:"bb",request1:"188779",request2:"188787"},{number:5,team1:"nw",team2:"ni",request1:"188788",request2:"188783",winner:"ni"},{number:6,team1:"sn",team2:"by",request1:"188784",request2:"188780"},{number:7,team1:"hh",team2:"bw",request1:"188786",request2:"188792"},{number:8,team1:"sl",team2:"th",request1:"188781",request2:"188793",winner:"sl"}]},{title:"Runde 2",matches:[]},{title:"Halbfinale",matches:[]},{title:"Finale",matches:[]}],n="/tippspiel/",s="fds_meisterschaften_2020_";function i(t,e){var a=new XMLHttpRequest;a.open(e?"POST":"GET",n,!0),e&&(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-CSRFToken",document.querySelector("[name=csrfmiddlewaretoken]").value)),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.onload=function(){if(200<=this.status&&this.status<400){var e=JSON.parse(this.response);t(e)}else window.alert("Error")},a.onerror=function(){window.alert("Error")},a.send(e)}var o="img/",c=!1,m="",l={},u=!1,h=1,d=new Date(1591956e6);function a(e){e.preventDefault();var t=this.dataset.team,a=this.dataset.match;if(c){var n=new Date;if(d&&d<n)window.alert("Die aktuelle Tipp-Spiel-Runde ist abgelaufen!");else{if(!l[s+"name"]){var r=window.prompt("Unter welchem Namen m√∂chten Sie in der Tipp-Tabelle erscheinen? Durch die Eingabe stimmen Sie unseren Teilnahmebedingungen zu.",m);if(null===r)return;l[s+"name"]=r.substr(0,50)}u?window.alert("Ihre letzte Aktion wird noch verarbeitet."):(l[s+a]=t,f(a,u=!0),i(function(e){e.error?window.alert(e.error):l=e.user||{},f(a,u=!1)},"match=".concat(a,"&bet=").concat(t,"&name=").concat(encodeURIComponent(l[s+"name"]))))}}else window.alert("Sie m√ºssen eingeloggt sein, um am Tippspiel teilzunehmen.")}function r(){b.innerHTML='\n      <div class="tournament-bracket tournament-bracket--rounded">\n        '.concat(function(e){for(var t="",a=0,n=e.length;a<n;a++)t+=(r=e[a],'\n    <div class="tournament-bracket__round">\n      <h3 class="tournament-bracket__round-title">'.concat(r.title,"</h3>\n      ").concat(r.matches&&0<r.matches.length?'\n      <ul class="tournament-bracket__list">\n        '.concat(function(e){for(var t=[],a=0,n=e.length;a<n;a++)t.push((r=e[a],0,s=teams[r.team1],i=teams[r.team2],'\n    <li class="tournament-bracket__item">\n      <div class="tournament-bracket__match" tabindex="0">\n        <table class="tournament-bracket__table">\n          <tbody class="tournament-bracket__content">\n            '.concat(p(r.team1,s,r.winner===r.team1,r,r.request1),"\n            ").concat(p(r.team2,i,r.winner===r.team2,r,r.request2),"\n          </tbody>\n        </table>\n      </div>\n    </li>\n    ")));var r,s,i;return t.join("")}(r.matches),"\n      </ul>\n      "):"","\n    </div>\n    "));var r;return t}(t),"\n      </div>\n      ");var e=b.querySelectorAll(".tournament-bracket__tip a");Array.from(e).forEach(function(e){e.addEventListener("click",a)})}function p(e,t,a,n,r){var s=n.number,i="".concat(t.captain.firstName," ").concat(t.captain.lastName," (").concat(t.state,")"),c=new Date,m=h<=s&&(!d||c<d);return'\n    <tr class="tournament-bracket__team">\n      <td class="tournament-bracket__image" title="'.concat(i,'"><img src="').concat(o).concat(t.img,'"></td>\n      <td class="tournament-bracket__label" title="').concat(i,'">\n        <span class="tournament-bracket__name">\n          ').concat(r?'<a href="/a/'.concat(r,'">'):"","\n          ").concat(t.captain.firstName.charAt(0),". ").concat(t.captain.lastName,"\n          ").concat(r?"</a>":"",'\n        </span>&nbsp;<span class="tournament-bracket__token" title="').concat(t.state,'">(').concat(e,')</span>\n      </td>\n      <td class="tournament-bracket__result" title="Gewinner">').concat(a?"üèÜÔ∏è&nbsp;":"",'</td>\n      <td class="tournament-bracket__tip">\n        ').concat(m?'<a href="#" data-team="'.concat(e,'" data-match="').concat(s,'">').concat(g(e,s,!0),"</a>"):g(e,s,!1),"\n      </td>\n    </tr>\n    ")}function f(t,a){var e=b.querySelectorAll('.tournament-bracket__tip a[data-match="'.concat(t,'"]'));Array.from(e).forEach(function(e){e.innerHTML=a?'<i class="fa fa-spinner" aria-hidden="true"></i>':g(e.dataset.team,t,!0)})}function g(e,t,a){if(l&&l[s+t]===e)return'<i class="fa fa-star" aria-hidden="true"></i>';return a?'<i class="fa fa-star-o" aria-hidden="true"></i>':""}t.forEach(function(e){0<e.matches.length&&(h=e.matches[0].number)});var e,b=document.getElementById("tournament-visual");e=document.getElementById("path-helper"),o=e.src.replace("1x1.png",""),(c=null!==document.getElementById("userDropdownMenu"))&&(m=document.querySelector("#userDropdownMenu span").textContent),c?i(function(e){l=e.user||{},r()}):r()}();
//# sourceMappingURL=main.js.map
